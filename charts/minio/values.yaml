# üóÇÔ∏è MinIO - Configura√ß√µes Helm Chart
# Servidor de armazenamento de objetos S3-compat√≠vel com console web de gerenciamento

# =============================================================================
# üöÄ CONFIGURA√á√ÉO ESSENCIAL
# =============================================================================
# Estas s√£o as configura√ß√µes que 80% dos usu√°rios v√£o alterar

# Dom√≠nios onde MinIO ser√° acess√≠vel
domains:
  api: "" # Ex: s3.meudominio.com
  console: "" # Ex: minio.meudominio.com

# Credenciais do MinIO (obrigat√≥rias)
auth:
  username: "admin" # Usu√°rio root do MinIO
  password: "" # Senha do usu√°rio root (DEVE ser definida)

# =============================================================================  
# ‚ö° FUNCIONALIDADES OPCIONAIS
# =============================================================================
# Funcionalidades que podem ser habilitadas conforme necess√°rio

# Configura√ß√£o de armazenamento
storage:
  size: "500Gi" # Tamanho do volume persistente
  storageClass: "" # Classe de armazenamento a usar

# Configura√ß√£o TLS/HTTPS
tls:
  enabled: false # Habilita HTTPS autom√°tico

# Configura√ß√£o de recursos
resources:
  requests:
    cpu: "250m" # CPU m√≠nima
    memory: "512Mi" # Mem√≥ria m√≠nima
  limits:
    cpu: "500m" # CPU m√°xima
    memory: "1Gi" # Mem√≥ria m√°xima

# =============================================================================
# üîß CONFIGURA√á√ÉO AVAN√áADA (OPCIONAL)
# =============================================================================
# Configura√ß√µes para usu√°rios experientes (raramente alteradas)

# Sobrescrever nomes dos recursos
nameOverride: "" # Sobrescreve o nome do chart
fullnameOverride: "" # Sobrescreve o nome completo dos recursos

# Componente para identifica√ß√£o nos labels
component: "storage" # Tipo de componente (storage, application, database, etc.)

# Configura√ß√µes extremamente avan√ßadas (apenas se necess√°rio)
advanced:
  enabled: false # Habilita se√ß√£o de configura√ß√µes avan√ßadas

  # ‚ö†Ô∏è Configura√ß√µes abaixo s√≥ s√£o aplicadas se advanced.enabled=true

  # Anota√ß√µes personalizadas nos recursos
  annotations: {}

  # Labels personalizadas adicionais
  labels: {}

  # Configura√ß√µes espec√≠ficas do MinIO
  minio:
    # Vers√£o da imagem (normalmente n√£o precisa alterar)
    image:
      repository: quay.io/minio/minio
      tag: "RELEASE.2025-04-22T22-12-26Z" # Vers√£o mais recente
      pullPolicy: IfNotPresent

    # Configura√ß√µes de servidor
    server:
      # Vari√°veis de ambiente personalizadas
      env: {}
      # Exemplo:
      # env:
      #   MINIO_DOMAIN: "s3.meusite.com"
      #   MINIO_SERVER_URL: "https://s3.meusite.com"
      #   MINIO_BROWSER_REDIRECT_URL: "https://minio.meusite.com"

      # Configura√ß√µes de probe de sa√∫de
    health:
      liveness:
        enabled: true
        initialDelaySeconds: 30
        periodSeconds: 10
      readiness:
        enabled: true
        initialDelaySeconds: 30
        periodSeconds: 10

    # Configura√ß√µes de persist√™ncia
    persistence:
      # Pol√≠tica de reten√ß√£o do volume
      retainOnDelete: true # Mant√©m dados se chart for removido

    # Configura√ß√µes de seguran√ßa
    security:
      # Contexto de seguran√ßa do pod
      runAsUser: 1000
      runAsGroup: 1000
      fsGroup: 1000
