name: âš¡ Teste RÃ¡pido

on:
  workflow_dispatch:
    inputs:
      runner_name:
        description: 'Nome do runner'
        required: false
        default: 'actions-runners'

jobs:
  quick-test:
    name: ğŸš€ Teste RÃ¡pido do Runner
    runs-on: ${{ github.event.inputs.runner_name || 'actions-runners' }}
    
    steps:
      - name: ğŸ‘‹ Hello K3s!
        run: |
          echo "ğŸ‰ OlÃ¡ do runner no k3s!"
          echo "ğŸ“… Data: $(date)"
          echo "ğŸ–¥ï¸  Hostname: $(hostname)"
          echo "ğŸ‘¤ UsuÃ¡rio: $(whoami)"
      
      - name: ğŸ³ Teste Docker
        run: |
          echo "ğŸ”¨ Testando Docker:"
          docker run --rm alpine:latest echo "Docker funcionando no k3s!"
      
      - name: â˜¸ï¸  Teste Kubectl
        run: |
          echo "ğŸ“‹ Nodes do cluster:"
          kubectl get nodes
          echo ""
          echo "ğŸƒ Runners ativos:"
          kubectl get pods -n actions-runners | grep Running || echo "Nenhum pod encontrado"
      
      - name: âœ… Sucesso!
        run: |
          echo "ğŸŠ Teste concluÃ­do com sucesso!"
          echo "âœ¨ O runner estÃ¡ funcionando perfeitamente!" 